<UserControl x:Class="AntennasCalculator.WpfApp.Controls.ProfileView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             MinHeight="150"
             Background="White">
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto" />
            <RowDefinition Height="*" />
        </Grid.RowDefinitions>

        <DockPanel Grid.Row="0"
                   Margin="8">
            <TextBlock x:Name="Title"
                       Text="Fresnel Profile"
                       FontWeight="Bold" />
            <TextBlock x:Name="Subtitle"
                       Margin="12,0,0,0" />
        </DockPanel>

        <Grid Grid.Row="1"
              Margin="8">
            <Canvas x:Name="Canvas"
                    Background="#FAFAFA"
                    MouseMove="Canvas_MouseMove" />
            <Border BorderBrush="#DDD"
                    BorderThickness="1" />
            <!-- Legend overlay -->
            <Border HorizontalAlignment="Right"
                    VerticalAlignment="Top"
                    Margin="8"
                    Padding="6"
                    Background="#CCFFFFFF"
                    BorderBrush="#CCC"
                    BorderThickness="1">
                <StackPanel>
                    <StackPanel Orientation="Horizontal"
                                Margin="0,0,0,2">
                        <Rectangle Width="14"
                                   Height="6"
                                   Fill="DimGray"
                                   Margin="0,0,6,0" />
                        <TextBlock Text="Terrain" />
                    </StackPanel>
                    <StackPanel Orientation="Horizontal"
                                Margin="0,0,0,2">
                        <Rectangle Width="14"
                                   Height="6"
                                   Fill="Red"
                                   Opacity="0.7"
                                   Margin="0,0,6,0" />
                        <TextBlock Text="Required clearance" />
                    </StackPanel>
                    <StackPanel Orientation="Horizontal"
                                Margin="0,0,0,2">
                        <Rectangle Width="14"
                                   Height="6"
                                   Fill="SteelBlue"
                                   Margin="0,0,6,0" />
                        <TextBlock Text="R1 tube" />
                    </StackPanel>
                    <StackPanel Orientation="Horizontal">
                        <Rectangle Width="14"
                                   Height="6"
                                   Fill="OrangeRed"
                                   Margin="0,0,6,0" />
                        <TextBlock Text="Target clearance" />
                    </StackPanel>
                </StackPanel>
            </Border>
            <!-- Tooltip host -->
            <Border x:Name="HoverBox"
                    Visibility="Collapsed"
                    Background="#EEFFFFFF"
                    BorderBrush="#888"
                    BorderThickness="1"
                    Padding="6"
                    CornerRadius="2" />
        </Grid>
    </Grid>
</UserControl>